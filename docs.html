<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- load MUI -->
  <link href="https://cdn.muicss.com/mui-0.10.3/css/mui.min.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.muicss.com/mui-0.10.3/js/mui.min.js"></script>
</head>
<body>
  <!-- example content -->
  <div class="mui-container">
    <div class="mui-panel" style="box-shadow: none; -webkit-box-shadow: none; font-size: 16px; margin-top: 5px;">
      <article>
        <section>
          <h2>The API</h2>
          <p>
            As well as the graphs, tables, and CSV exports available from the home page, we also provide an API for programatic access to our data.
          </p>
        </section>
        <section>
          <h3>Scores</h3>
          <p>
            To fetch score data use the following URL:
          </p>
	  <pre>GET</pre>
          <pre>/scores?id=[int]&startDate=YYYY-MM-DD&endDate=YYYY-MM-DD&resolution=[day|week]&smoothing=[0|3|5|7]</pre>
          <h4>Request parameters</h4>
          <dl>
            <dt>id:</dt>
            <dd>The ID of the model you would like data for</dd>
            <dt>startDate:</dt>
            <dd>Start date of requested time period, inclusive. In the format YYYY-MM-DD</dd>
            <dt>endDate:</dt>
            <dd>End date of requested time period, inclusive. In the format YYYY-MM-DD</dd>
            <dt>resolution:</dt>
            <dd>The density of the data points returned, either day or week</dd>
            <dt>smoothing:</dt>
            <dd>Number of days to smooth data over using a moving average filter, either 0, 3, 5 or 7</dd>
          </dl>
          <h4>Response</h4>
          <pre>{
  "start_date": "2018-09-01",
  "end_date": "2018-09-16",
  "dates": [
    "2018-09-16",
    "2018-09-15",
    ...
    "2018-09-01"
  ],
  "rate_thresholds": {
    "low_value": {
      "label": "Low epidemic rate",
      "value": 13.1
    },
    "high_value": {
      "label": "High epidemic rate",
      "value": 68.7
    },
    "medium_value": {
      "label": "Medium epidemic rate",
      "value": 24.2
    },
    "very_high_value": {
      "label": "Very high epidemic rate",
      "value": 108.9
    }
  },
  "modeldata": [
    {
      "id": 1,
      "name": "Google v2018.07",
      "hasConfidenceInterval": true,
      "average_score": 2.2507245,
      "datapoints": [
        {
          "confidence_interval_lower": 0.0,
          "score_value": 3.682423,
          "score_date": "2018-09-16",
          "confidence_interval_upper": 9.730234
        },
        ...
      ]
    }
  ]
}</pre>
        </section>
        <section>
          <h3>Models</h3>
          <p>
            To fetch a list of public models available:
          </p>
          <pre>GET /models/</pre>
          <h4>Response</h4>
          <pre>[
  {
    "name": "Google v2018.07",
    "id": 1
  }
]</pre>
        </section>
      </article>
    </div>
  </div>
</body>
</html>
